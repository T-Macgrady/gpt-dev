# ai/call/getChatCompletion.js.md

This file contains the spec for getChatCompletion.js, which calls the AI model to get chat completion.

## Function

```js
getChatCompletion(arrayInChatMLformat, options)
```

Get chat completion from the AI model.

## Parameters

- `arrayInChatMLformat` <Array> : The array of messages in ChatML format.
- `options` <Object> : The options object.
  - `model` <String> : The AI model to use. Default is "gpt-4".
  - `max_tokens` <Number> : The maximum number of tokens to generate. Default is 1000.

## Returns

<Object> :

- `completion` <String> : The chat completion generated by the AI model.

## Example

```js
let res = await ai.getChatCompletion(
	["Human: Hello", "Human: How are you?"], 
	{ 
		model: "gpt-4",
		max_tokens: 1000
	}
);
let responseMsg = res.completion;
// responseMsg = "Human: I'm doing well, thanks! How about yourself?"
```

## Notes

- Use the `core/ai.js` to call this function.
- The credentials for the AI models are loaded in `core/ai.js`.